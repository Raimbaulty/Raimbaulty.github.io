---
layout: mypost
title: Typora é…ç½®å›¾åºŠ
date: 2025-05-10
published: true
category: æ•ˆç‡å·¥å…·
tags: 
 - typora
---

## å‡†å¤‡å·¥ä½œ

å®‰è£… Typoraï¼Œæ³¨æ„å®‰è£…æ—¶é€‰æ‹© **ä»…ä¸ºå½“å‰ç”¨æˆ·å®‰è£…**

æ‰“å¼€ Typoraï¼Œç‚¹å‡» **æ–‡ä»¶** èœå•ï¼Œè¿›å…¥ **åå¥½è®¾ç½®** â†’ **å›¾åƒ**ï¼Œä¸Šä¼ æœåŠ¡é€‰æ‹© **PicGo-Core**ï¼Œç„¶åç‚¹å‡» **ä¸‹è½½æˆ–æ›´æ–°**

[ç‚¹å‡»ä¸‹è½½](https://nodejs.org/dist/latest-v18.x/node-v18.20.8-win-x64.zip) node18 å¹¶è§£å‹åˆ° `%APPDATA%\Typora\` é‡å‘½åè§£å‹åç›®å½•ä¸º **node18** å¹¶æ·»åŠ pathï¼š

- æŒ‰ `Win` + `R` é”®æ‰“å¼€è¿è¡Œçª—å£ï¼Œè¾“å…¥ `sysdm.cpl` åå›è½¦
- åˆ‡æ¢æ‰“å¼€çš„çª—å£åˆ°â€œé«˜çº§â€é€‰é¡¹ï¼Œç‚¹å‡»å³ä¸‹è§’çš„ **ç¯å¢ƒå˜é‡**
- åœ¨ä¸Šé¢çš„ **ç”¨æˆ·å˜é‡** ä¸­ï¼Œæ‰¾åˆ° `Path` ï¼Œé€‰ä¸­åç‚¹å‡» **ç¼–è¾‘**
- åœ¨ ç¼–è¾‘ç¯å¢ƒå˜é‡ çª—å£ä¸­ ç‚¹å‡» **æ–°å»º**ï¼Œåœ¨æ–°çš„è¾“å…¥è¡Œä¸­ç²˜è´´ `%APPDATA%\Typora\node18` ç„¶åä¸€è·¯ç‚¹å‡»ç¡®å®šå³å¯

åˆ›å»ºæ–‡æœ¬æ–‡æ¡£ï¼Œå‘½åä¸º `InstallPicGoPlugins.bat`ï¼Œç²˜è´´ä»¥ä¸‹å†…å®¹ä¿å­˜ååŒå‡»è¿è¡Œ

```bat
@echo off
setlocal

set "NODE_PATH=%APPDATA%\Typora\node18"
set "PATH=%NODE_PATH%;%PATH%"
cd /d "%APPDATA%\Typora\picgo\win64"
 
picgo install gitlab
picgo install gitcode
picgo install s3@1.2.4
picgo install gitlab-files
picgo install gitee-uploader
picgo install super-prefix
 
pause
endlocal
```
## åŸºç¡€é…ç½®

### SMMS

**æ³¨æ„ï¼š** ç›®å‰smmså·²ç»å…³é—­äº†æ³¨å†ŒåŠŸèƒ½ï¼Œå…è´¹å®¹é‡5G

[ç‚¹å‡»è¿™é‡Œ](https://sm.ms/register) æ³¨å†Œ smms è´¦æˆ·

[ç‚¹å‡»è¿™é‡Œ](https://sm.ms/home/apitoken) â†’ **Generate Secret Token** ç”Ÿæˆä»¤ç‰Œåå¤åˆ¶

å¿«æ·é”® Win+Rï¼Œè¾“å…¥ `cmd` å›è½¦ç„¶åç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç æ‰“å¼€

```cmd
notepad "%USERPROFILE%\.picgo\config.json"
```

ä¿®æ”¹ `token` åç²˜è´´è¦†ç›–è®°äº‹æœ¬åŸå†…å®¹åä¿å­˜

```json
{
  "picBed": {
    "current": "smms",
    "uploader": "smms",
    "smms": {
      "token": "",
      "backupDomain": "smms.app" 
    }
  },
  "picgoPlugins": {}
}
```



### Imgur

**æ³¨æ„ï¼š** Imgur å›½å†…è®¿é—®å—é™ï¼Œéœ€è¦è®¾ç½®ä»£ç†

[ç‚¹å‡»è¿™é‡Œ](https://imgur.com/register) æ³¨å†Œ Imgur è´¦æˆ·

[ç‚¹å‡»è¿™é‡Œ](https://api.imgur.com/oauth2/addclient) æ–°å»ºåº”ç”¨ï¼Œ**Application name** è¾“å…¥ `PicGo`ï¼Œ**Authorization type** å‹¾é€‰ç¬¬äºŒä¸ªï¼Œåˆ›å»ºåå¤åˆ¶ä¿å­˜ `ClientID`çš„å€¼

å¿«æ·é”® Win+Rï¼Œè¾“å…¥ `cmd` å›è½¦ç„¶åç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç æ‰“å¼€

```cmd
notepad "%USERPROFILE%\.picgo\config.json"
```

ä¿®æ”¹  `clientID` å’Œ `proxy` åç²˜è´´è¦†ç›–è®°äº‹æœ¬åŸå†…å®¹åä¿å­˜

```json
{
  "picBed": {
    "current": "imgur",
    "uploader": "imgur",
    "imgur": {
        "clientId": "",
        "proxy": "http://127.0.0.1:7890"
    }
  },
  "picgoPlugins": {}
}
```



### Github

**æ³¨æ„ï¼š** Github å›½å†…è®¿é—®å—é™ï¼Œéœ€è¦è®¾ç½®ä»£ç†

[ç‚¹å‡»è¿™é‡Œ](https://github.com/signup) æ³¨å†Œ Github è´¦æˆ·

[ç‚¹å‡»è¿™é‡Œ](https://github.com/new) æ–°å»ºä»“åº“ï¼Œ**Repository name** å¡«å†™ `PicGo`ï¼Œå‹¾é€‰ **Add a README file** åç‚¹å‡» **Create repository**

[ç‚¹å‡»è¿™é‡Œ](https://github.com/settings/tokens/new) æ–°å»ºä»¤ç‰Œï¼Œ**Note** å¡«å†™ `picgo`ï¼Œ**Expiration** é€‰æ‹© **No expiration**ï¼Œå‹¾é€‰ **repo** åä¸‹æ‹‰åˆ°åº•ç‚¹å‡» **Create token** åå¤åˆ¶ token

å¿«æ·é”® Win+Rï¼Œè¾“å…¥ `cmd` å›è½¦ç„¶åç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç æ‰“å¼€

```cmd
notepad "%USERPROFILE%\.picgo\config.json"
```

ä¿®æ”¹  `ç”¨æˆ·å` å’Œ `token` åç²˜è´´è¦†ç›–è®°äº‹æœ¬åŸå†…å®¹åä¿å­˜

```json
{
   "picBed":{
      "uploader":"github",
      "current":"github",
      "github":{
         "branch":"main",
         "customUrl":"https://cdn.jsdelivr.net/gh/ç”¨æˆ·å/picgo",
         "repo":"ç”¨æˆ·å/picgo",
         "path":"img",
         "token":"**********"
      }
   },
   "picgoPlugins":{
      "picgo-plugin-super-prefix":true
   },
   "picgo-plugin-super-prefix":{
      "prefixFormat":"YYYY/MM/DD/",
      "fileFormat":"YYYYMMDDHHmmss"
   }
}
```



### Gitee

**æ³¨æ„ï¼š** Gitee ä»“åº“å·²æ·»åŠ é˜²ç›—é“¾ï¼Œåªèƒ½åœ¨æœ¬åœ°ç¼–è¾‘å™¨ä½¿ç”¨ï¼Œæ— æ³•ä½œä¸ºç½‘ç«™çš„å›¾åºŠ

[ç‚¹å‡»è¿™é‡Œ](https://gitee.com/signup) æ³¨å†Œ Gitee è´¦æˆ·ï¼Œ[ç‚¹å‡»è¿™é‡Œ](https://gitee.com/profile/account_information) å‹¾é€‰ **å°†ä¸ªäººèµ„æ–™è®¾ä¸ºç§å¯†å¹¶éšè—æ´»åŠ¨** åç‚¹å‡»ä¿å­˜

[ç‚¹å‡»è¿™é‡Œ](https://gitee.com/projects/new) æ–°å»ºä»“åº“ï¼Œ**ä»“åº“åç§°** å¡«å†™ `Picgo`ï¼Œç‚¹å‡» **åˆ›å»º** â†’ **åˆå§‹åŒ– readme æ–‡ä»¶**

[ç‚¹å‡»è¿™é‡Œ](https://gitee.com/profile/personal_access_tokens/new) æ–°å»ºä»¤ç‰Œï¼Œè¾“å…¥ **ç§äººä»¤ç‰Œæè¿°**ï¼Œå–æ¶ˆå…¨é€‰ï¼Œæ‰‹åŠ¨å‹¾é€‰ **projects** ç‚¹å‡» **æäº¤**ï¼Œè¾“å…¥å¯†ç éªŒè¯åç‚¹å‡»å¤åˆ¶ token

å¿«æ·é”® Win+Rï¼Œè¾“å…¥ `cmd` å›è½¦ç„¶åç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç æ‰“å¼€

```cmd
notepad "%USERPROFILE%\.picgo\config.json"
```

ä¿®æ”¹  `ç”¨æˆ·å` å’Œ `token` åç²˜è´´è¦†ç›–è®°äº‹æœ¬åŸå†…å®¹åä¿å­˜

```json
{
   "picBed":{
      "uploader":"gitee",
      "current":"gitee",
      "gitee":{
         "branch":"master",
         "customUrl":"",
         "path":"img",
         "repo":"ç”¨æˆ·å/picgo",
         "token":"**************"
      }
   },
   "picgoPlugins":{
      "picgo-plugin-gitee-uploader":true,
      "picgo-plugin-super-prefix":true
   },
   "picgo-plugin-super-prefix":{
      "prefixFormat":"YYYY/MM/DD/",
      "fileFormat":"YYYYMMDDHHmmss"
   }
}
```



### Gitlab

**æ³¨æ„ï¼š** Gitlab å·²è¿‡æ—¶ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨ Gitlab-files

[ç‚¹å‡»è¿™é‡Œ](https://gitlab.com/users/sign_up) æ³¨å†Œ Gitlab è´¦æˆ·ï¼ŒéªŒè¯é‚®ç®±åçš„è¡¨å•å‹¾é€‰ **Crate  a new project** å’Œ **Just me** åç‚¹å‡» **Continue**ï¼Œ**Group name** è‡ªå®šä¹‰ **Project name** å¡«å†™ `PicGo` åæ— éœ€é€‰æ‹©æ¡†æ¶ç›´æ¥ç‚¹å‡» **Create  project** 

é»˜è®¤åˆ›å»ºçš„ä»“åº“æ˜¯ç§æœ‰çš„ï¼Œè¦ç”¨åšå›¾åºŠçš„è¯è¿˜éœ€è¦è®¾ç½®ä¸ºå…¬å¼€ï¼Œæ³¨æ„ç»„ç»‡éœ€è¦å…ˆå…¬å¼€åæ‰èƒ½å…¬å¼€ä»“åº“

- å…¬å¼€ç»„ç»‡ï¼š[ç‚¹å‡»è¿™é‡Œ](https://gitlab.com/dashboard/groups) â†’ â‹®  â†’  **Edit**ï¼Œä¿®æ”¹ **Visibility level** ä¸º `Public` åç‚¹å‡» **Save changes**

- å…¬å¼€ä»“åº“ï¼š [ç‚¹å‡»è¿™é‡Œ](https://gitlab.com/dashboard/projects) â†’ â‹®  â†’  **Edit**ï¼Œé¦–å…ˆå¤åˆ¶ **Project ID** ä¿å­˜ï¼Œç„¶åå±•å¼€ **Visibility, project features, permissions** ä¿®æ”¹ **Project visibility** ä¸º `Public` åä¸‹æ‹‰åˆ°åº•ç‚¹å‡» **Save changes**

[ç‚¹å‡»è¿™é‡Œ](https://gitlab.com/-/user_settings/personal_access_tokens) ç„¶åç‚¹å‡» **Add new token**ï¼Œ**Token name** è¾“å…¥ `picgo`ï¼Œ **Expiration date**æœ€é«˜åªå¯é€‰æ‹©ä¸€å¹´åï¼Œç›´æ¥ç‚¹å‡» ğŸ“… ç„¶åç‚¹å‡»å¹´ä»½é€‰æ‹©åä¸€å¹´ä»¥åŠæœ€å¤§å¤©æ•°å³å¯ï¼Œæƒé™å‹¾é€‰ **api** åç‚¹å‡» **Create personal access token** åˆ›å»ºåï¼Œç‚¹å‡»ç»¿è‰²é«˜äº®åŒºåŸŸçš„ ğŸ“‹ å¤åˆ¶ **Token**

å¿«æ·é”® Win+Rï¼Œè¾“å…¥ `cmd` å›è½¦ç„¶åç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç æ‰“å¼€

```cmd
notepad "%USERPROFILE%\.picgo\node_modules\picgo-plugin-gitlab\src\index.js"
```

æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹åä¿å­˜

```js
// fork from : https://github.com/yuki-xin/picgo-plugin-web-uploader

// const logger = require('@varnxy/logger')
// logger.setDirectory('/Users/zhang/Work/WorkSpaces/WebWorkSpace/picgo-plugin-gitlab/logs')
// let log = logger('plugin')

module.exports = (ctx) => {
  const register = () => {
    ctx.helper.uploader.register('gitlab', {
      handle,
      name: 'GitLabå›¾åºŠ',
      config: config
    })
  }
  const handle = async function (ctx) {
    let userConfig = ctx.getConfig('picBed.gitlab')
    if (!userConfig) {
      throw new Error('Can\'t find uploader config')
    }
    const url = userConfig.URL
    const group = userConfig.Group
    const project = userConfig.Project
    const token = userConfig.Token
    const branch = userConfig.Branch
    const path = userConfig.Path
    const projectId = encodeURIComponent(`${group}/${project}`)
    
    const realImgUrlPre = `${url}/${group}/${project}/-/raw/${branch}/${path}`
    const commitUrl = `${url}/api/v4/projects/${projectId}/repository/commits`

    try {
      let imgList = ctx.output
      for (let i in imgList) {
        let image = imgList[i].buffer
        if (!image && imgList[i].base64Image) {
          image = Buffer.from(imgList[i].base64Image, 'base64')
        }        
        const base64Content = image.toString('base64')        
        const targetPath = `${path}/${imgList[i].fileName}`
        const commitConfig = {
          method: 'POST',
          url: commitUrl,
          headers: {
            'Content-Type': 'application/json',
            'User-Agent': 'PicGo',
            'PRIVATE-TOKEN': token
          },
          body: JSON.stringify({
            branch: branch,
            commit_message: `Upload image: ${imgList[i].fileName}`,
            actions: [
              {
                action: 'create',
                file_path: targetPath,
                content: base64Content,
                encoding: 'base64'
              }
            ]
          })
        }

        let body = await ctx.Request.request(commitConfig)
        body = JSON.parse(body)
        
        delete imgList[i].base64Image
        delete imgList[i].buffer
        imgList[i]['imgUrl'] = `${realImgUrlPre}/${imgList[i].fileName}`
      }
    } catch (err) {
      ctx.emit('notification', {
        title: 'ä¸Šä¼ å¤±è´¥',
        body: JSON.stringify(err)
      })
      throw err
    }
  }

  const config = ctx => {
    let userConfig = ctx.getConfig('picBed.gitlab')
    if (!userConfig) {
      userConfig = {}
    }
    return [
      {
        name: 'URL',
        type: 'input',
        default: userConfig.URL,
        required: true,
        message: 'https://gitlab.com',
        alias: 'URL'
      },
      {
        name: 'Group',
        type: 'input',
        default: userConfig.Group,
        required: true,
        message: 'Group',
        alias: 'Group'
      },
      {
        name: 'Project',
        type: 'input',
        default: userConfig.Project,
        required: true,
        message: 'Project',
        alias: 'Project'
      },
      {
        name: 'Token',
        type: 'input',
        default: userConfig.Token,
        required: true,
        message: 'aLS32eaxs1GLvKcv9f-k',
        alias: 'Token'
      },
      {
        name: 'Branch',
        type: 'input',
        default: userConfig.Branch,
        required: false,
        message: 'main',
        alias: 'Branch'
      },
      {
        name: 'Path',
        type: 'input',
        default: userConfig.Path,
        required: false,
        message: 'images',
        alias: 'Path'
      }
    ]
  }
  return {
    uploader: 'gitlab',
    // transformer: 'gitlab',
    // config: config,
    register

  }
}
```

æ¥ç€åœ¨ç»ˆç«¯ç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç æ‰“å¼€

```cmd
notepad "%USERPROFILE%\.picgo\config.json"
```

ä¿®æ”¹ `Group` å’Œ `Token` åç²˜è´´è¦†ç›–è®°äº‹æœ¬åŸå†…å®¹åä¿å­˜

```json
{
   "picBed":{
      "current":"gitlab",
      "uploader":"gitlab",
    "gitlab": {
      "URL": "https://gitlab.com",
      "Group": "*******",
      "Project": "picgo",
      "Token": "*******",
      "Branch": "main",
      "Path": "img"
    }
   },
   "picgoPlugins":{
      "picgo-plugin-gitlab":true
   }
}
```



### Gitlab-files

**æ³¨æ„ï¼š** Gitlab-files éœ€è¦ **PicGo-Core ç‰ˆæœ¬ â‰¥ 1.5.0**ï¼ŒTypora ç»´æŠ¤ç‰ˆæœ¬è¿˜æ˜¯ 1.4.7ï¼Œä½œè€…æ‰“åŒ…å¥½äº†æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥å‘ç”µè·å–ï¼š[æ”¯æŒä¸€ä¸‹](https://afdian.com/a/ireno)

å¿«æ·é”® Win+Rï¼Œè¾“å…¥ `cmd` å›è½¦ç„¶åç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç æ‰“å¼€

```cmd
notepad "%USERPROFILE%\.picgo\config.json"
```

ä¿®æ”¹ `projectId` å’Œ `gitToken` åç²˜è´´è¦†ç›–è®°äº‹æœ¬åŸå†…å®¹åä¿å­˜

```json
{
  "picBed": {
    "current": "gitlab-files-uploader",
    "uploader": "gitlab-files-uploader",
    "gitlab-files-uploader": {
      "gitUrl": "https://gitlab.com",
      "projectId": "***************",
      "branch": "main",
      "gitToken": "******************",
      "gitVersionUnderThirteen": false,
      "fileName": "/img/{year}/{month}/{day}_{hour}_{minute}_{second}_{fileName}",
      "commitMessage": "Upload {fileName} By Typora at {year}-{month}-{day}",
      "deleteRemote": "false",
      "deleteMessage": "Delete {fileName} By Typora at {year}-{month}-{day}",
      "deleteInform": false,
      "authorMail": "hi@typora.io",
      "authorName": "Typora"
    }
  },
  "picgoPlugins": {
    "picgo-plugin-gitlab-files": true
  }
}
```



### Gitcode

[ç‚¹å‡»è¿™é‡Œ](https://gitcode.com/)ï¼Œå³ä¸Šè§’ç‚¹å‡»æ³¨å†Œåˆ›å»ºè´¦å·

[ç‚¹å‡»è¿™é‡Œ](https://gitcode.com/create) åˆ›å»ºä»“åº“ï¼Œ**é¡¹ç›®åç§°** å¡«å†™ `PicGo`ï¼Œå‹¾é€‰ **æ·»åŠ åˆå§‹åŒ– README æ–‡ä»¶** å ç‚¹å‡» **åˆ›å»ºé¡¹ç›®**

[ç‚¹å‡»è¿™é‡Œ](https://gitcode.com/setting/token-classic/create) åˆ›å»ºä»¤ç‰Œï¼Œ**ä»¤ç‰Œåç§°** å¡«å†™ `picgo`ï¼Œåˆ°æœŸæ—¶é—´æœ€é•¿å¯é€‰æ‹©ä¸¤å¹´ï¼Œç‚¹å‡» **æ–°å»ºä»¤ç‰Œ**ï¼Œç‚¹å‡» â§‰ å¤åˆ¶ token

å¿«æ·é”® Win+Rï¼Œè¾“å…¥ `cmd` å›è½¦ç„¶åç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç æ‰“å¼€

```cmd
notepad "%USERPROFILE%\.picgo\config.json"
```

ä¿®æ”¹ `ç”¨æˆ·å` å’Œ `token` åç²˜è´´è¦†ç›–è®°äº‹æœ¬åŸå†…å®¹åä¿å­˜

```json
{
  "picBed": {
    "current": "gitcode",
    "uploader": "gitcode",
    "gitcode": {
      "owner": "ç”¨æˆ·å",
      "repo": "picgo",
      "branch": "main",
      "path": "img",
      "token": "*****************",
      "message": "Upload by Typora"
    }
  },
  "picgoPlugins": {
    "picgo-plugin-gitcode": true,
    "picgo-plugin-super-prefix": true
  },
  "picgo-plugin-super-prefix": {
    "prefixFormat":"YYYY/MM/DD/",      
    "fileFormat": "YYYYMMDDHHmmss"
  }
}
```



### S3

**æ³¨æ„ï¼š** å› ä¸º PicGo çš„ç¯å¢ƒè¿˜åœ¨ node14ï¼Œåªæ”¯æŒ v1.2.4 ç‰ˆ s3ï¼Œä¸‹é¢ç»™å‡ºçš„æ˜¯ Cloudflare R2 çš„é…ç½®æ•™ç¨‹

[ç‚¹å‡»è¿™é‡Œ](https://dash.cloudflare.com/?to=/:account/r2)ï¼Œç„¶åç‚¹å‡» **åˆ›å»ºå­˜å‚¨æ¡¶**ï¼Œè¾“å…¥åç§°å¹¶æ³¨æ„é€‰æ‹© **æ ‡å‡†å­˜å‚¨** ååˆ›å»ºï¼Œç‚¹å‡» **è®¾ç½®**ï¼Œæ¥ç€ä¸‹æ»‘æ‰¾åˆ° **è¿æ¥åŸŸ**ï¼Œç‚¹å‡»æ·»åŠ è‡ªå®šä¹‰åŸŸ

[å†ç‚¹ä¸€æ¬¡](https://dash.cloudflare.com/?to=/:account/r2)ï¼Œå¤åˆ¶å³ä¾§ **å¸æˆ·è¯¦ç»†ä¿¡æ¯** çš„ `è´¦æˆ·ID` ä¿å­˜ï¼Œç„¶åç‚¹å‡»å³ä¾§ **ç®¡ç† R2 API ä»¤ç‰Œ**ï¼Œç‚¹å‡» **åˆ›å»º API ä»¤ç‰Œ**ï¼Œè‡ªå®šä¹‰ä»¤ç‰Œåç§°ï¼Œæƒé™é€‰è¯»å†™ï¼Œç„¶åé€‰æ‹© **ä»…ç”¨äºç‰¹å®šå­˜å‚¨æ¡¶**ï¼Œé€‰æ‹©æ–¹æ‰åˆ›å»ºçš„å­˜å‚¨æ¡¶ï¼Œå…¶ä»–è®¾ç½®ä¸å˜ï¼Œç‚¹å‡»åˆ›å»ºã€‚å¤åˆ¶IDå’Œå¯†é’¥å¹¶ä¿å­˜ï¼Œå¦‚æœå¿˜è®°åˆ™éœ€è¦åˆ é™¤ä»¤ç‰Œåé‡æ–°æ·»åŠ 

å¿«æ·é”® Win+Rï¼Œè¾“å…¥ `cmd` å›è½¦ç„¶åç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç æ‰“å¼€

```cmd
notepad "%USERPROFILE%\.picgo\config.json"
```

ä¿®æ”¹ `accessKeyID` , `secretAccessKey`,  `bucketName`,  `è´¦æˆ·ID` ä»¥åŠ `urlPrefix` åç²˜è´´è¦†ç›–è®°äº‹æœ¬åŸå†…å®¹åä¿å­˜

```json
{
  "picBed": {
    "uploader": "aws-s3",
    "current": "aws-s3",
    "aws-s3": {
      "accessKeyID": "********",
      "secretAccessKey": "*************************",
      "bucketName": "*********",
      "uploadPath": "{year}/{month}/{md5}.{extName}",
      "region": "",
      "endpoint": "è´¦æˆ·ID.r2.cloudflarestorage.com",
      "proxy": "",
      "urlPrefix": "https://example.com/",
      "pathStyleAccess": false,
      "rejectUnauthorized": true,
      "bucketEndpoint": false,
      "acl": "private"
    },
    "transformer": "path"
  },
  "picgoPlugins": {
    "picgo-plugin-s3": true
  }
}
```

## å¿«é€Ÿé…ç½®

å¿«æ·é”® Win+Rï¼Œè¾“å…¥ `cmd` å›è½¦ç„¶åç²˜è´´ä¸‹é¢è¿™è¡Œä»£ç å›è½¦è¿›å…¥ picgo ç›®å½•

```cmd
cd %AppData%\Typora\picgo\win64
```

1. **é…ç½®å›¾åºŠ**

```cmd
.\picgo set uploader
```

ä¸Šä¸‹é”®é€‰æ‹©å›¾åºŠç„¶åå›è½¦æŒ‰æç¤ºè¾“å…¥å€¼è¿›è¡Œé…ç½®

2. **åˆ‡æ¢å›¾åºŠ**

```cmd
.\picgo use uploader
```

ä¸Šä¸‹é”®é€‰æ‹©å›¾åºŠç„¶åå›è½¦åˆ‡æ¢å›¾åºŠ

3. **ä¸Šä¼ å›¾ç‰‡**

- ä¸Šä¼ å‰ªè´´æ¿é‡Œçš„ç¬¬ä¸€å¼ å›¾ç‰‡

```cmd
.\picgo u
```

- ä¸Šä¼ ç‰¹å®šå›¾ç‰‡

```cmd
.\picgo u /path/to/img
```

4. **å®‰è£…æ’ä»¶**

```cmd
.\picgo add gitlab
```

è¿™æ—¶å€™å†æ‰§è¡Œ `.\picgo set uploader` å°±å¯ä»¥çœ‹åˆ° gitlab äº†

5. **å‡çº§æ’ä»¶**

```cmd
.\picgo update gitlab
```

6. **å¸è½½æ’ä»¶**

```cmd
.\picgo rm gitlab
```

 

## å‚è€ƒé“¾æ¥

- [PicGo-Core å®˜æ–¹æ–‡æ¡£](https://picgo.github.io/PicGo-Core-Doc/zh/guide/)[Typoraå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½è®¾ç½®](https://www.cnblogs.com/miaozzi/articles/18640874)
- [å·¥å…· | Typora + PicGo-Core è‡ªåŠ¨ä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠ](https://www.cnblogs.com/skuld-yi/p/14533794.html) 
- [Typoraè®¾ç½®å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ Github](https://georgechan95.github.io/blog/877664098.html)
- [typora ä½¿ç”¨gitlabå½“å›¾åºŠpigco-core](https://blog.csdn.net/qihan1124/article/details/131969649)
- [Typora + Picgo + Imgur è‡ªåŠ¨ä¸Šä¼ å›¾ç‰‡](https://li-sticla.github.io/2021/03/26/Typora-Picgo-Imgur-autoupdate-picture/)
- https://github.com/PicGo/Awesome-PicGo