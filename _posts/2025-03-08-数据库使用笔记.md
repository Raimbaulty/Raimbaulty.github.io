---
layout: mypost
title: 数据库使用笔记
date: 2025-03-08
published: true
categories: 笔记
tags: 
 - mysql
---

## MySQL

### 登录

```bash
mysql -h your_host -P your_port -u your_user -p
```

### 数据库

#### 创建

```sql
CREATE DATABASE your_database_name;
```

#### 查看

```sql
SHOW DATABASES;
```

#### 切换

```sql
USE your_database_name;
```

#### 删除

```sql
DROP DATABASE your_database_name;
```

### 用户

#### 创建

- 任意IP访问

```sql
CREATE USER 'your_user'@'%' IDENTIFIED BY 'your_password';
```

- 特定IP访问

```sql
CREATE USER 'your_user'@'192.168.1.100' IDENTIFIED BY 'your_password';
```

- 仅本地访问

```sql
CREATE USER 'your_user'@'localhost' IDENTIFIED BY 'your_password';
```

#### 赋权

用户默认无权限，需要赋权

```sql
GRANT ALL PRIVILEGES ON your_database_name.* TO 'your_user'@'localhost';
FLUSH PRIVILEGES;
```

#### 查看

```sql
SELECT User, Host FROM mysql.user;
```

#### 删除

```sql
DROP USER 'your_user'@'localhost';
```

#### 身份插件

- 查看插件

```sql
SELECT user, host, plugin FROM mysql.user WHERE user = 'your_user';
```

- 修改插件

```sql
ALTER USER 'your_user'@'%' IDENTIFIED WITH mysql_native_password BY 'your_password';
FLUSH PRIVILEGES;
```

### 备份

```bash
mysqldump -h your_host -P your_port -u your_user -p your_database > backup.sql
```

### 恢复

```bash
mysql -h your_host -P your_port -u your_user -p your_database_name < backup.sql
```

忽略报错

```bash
mysql -h your_host -P your_port -u your_user -p your_database_name --force < backup.sql
```

