---
layout: mypost
title: Serv00 æ–°æ‰‹ä¸Šè·¯æŒ‡å—
date: 2024-12-18
published: true
categories: å…è´¹å®¹å™¨
tags: 
 - serv00
---

## å…¥é—¨ç¯‡ - DevilPanel

### åŸºæœ¬è®¾ç½®

1. **ç™»å½•é¢æ¿**

è®¿é—®æ³¨å†Œé‚®ä»¶ **DevilWEB webpanel** åœ°å€ï¼Œè¾“å…¥é‚®ä»¶ä¸­çš„ç”¨æˆ·åå’Œå¯†ç ç™»å½•

2. **ä¿®æ”¹è¯­è¨€**

è¯­è¨€åªæ”¯æŒæ³¢å…°è¯­å’Œè‹±è¯­ï¼Œå³ä¸Šè§’ç‚¹å‡» ğŸ³ï¸ï¼Œåœ¨ä¸‹æ‹‰èœå•é€‰æ‹© **English**

3. **æŸ¥çœ‹ä¿¡æ¯**

è®¿é—® [**ä¿¡æ¯é¡µ**](https://panel2.serv00.com/info/)ï¼Œå¯åœ¨è¿™é‡ŒæŸ¥çœ‹æ•°æ®åº“ä»¥åŠé‚®ä»¶smtpåœ°å€

4. **ä¿®æ”¹å¯†ç **

è®¿é—® [**æ”¹å¯†é¡µ**](https://panel2.serv00.com/passwd/)ï¼Œé¦–è¡Œè¾“å…¥æ—§å¯†ç ï¼Œæœ«ä¸¤è¡Œè¾“å…¥æ–°å¯†ç ç‚¹å‡» **Save**

5. **å¼€å¯æœåŠ¡**

è®¿é—® [**æœåŠ¡é¡µ**](https://panel2.serv00.com/permissions/binexec) ï¼Œç‚¹å‡» **Enable** ç¡®ä¿ **Status** âˆš Enabled

### ç½‘ç«™è®¾ç½®

1. **å¼€æ”¾ç«¯å£**

è®¿é—® [**ç«¯å£é¡µ**](https://panel2.serv00.com/port/add)ï¼Œç‚¹å‡» **Random** æ˜¾ç¤º âˆš åè¿ç‚¹ 3 æ¬¡ Add ç”Ÿæˆ 3 ä¸ªç«¯å£

2. **æ·»åŠ ç½‘ç«™**

è®¿é—® [**ç½‘ç«™é¡µ**](https://panel2.serv00.com/www/add)ï¼Œè¾“å…¥åŸŸåç„¶åç‚¹å‡» Advanced settings é€‰æ‹© **Website type** åç‚¹å‡» Add

æ”¯æŒçš„ç½‘ç«™ç±»å‹å¦‚ä¸‹ï¼š

-   `PHP`
    
-   `Python`
    
-   `Ruby`
    
-   `Node.js`
    
-   `Proxy`
    
-   `Pointer`

**æ³¨æ„**ï¼šProxy ç±»å‹çš„ç½‘ç«™ï¼Œå¦‚æœåŸŸåå·²ç»æŒ‚åœ¨äº†è¯¸å¦‚ Cloudflare ç­‰æœåŠ¡å•†è¯·å–æ¶ˆ DNS support å‹¾é€‰

3. **DNS ç®¡ç†**

è®¿é—® [**DNSé¡µ**](https://panel2.serv00.com/dns/)ï¼Œè¿›è¡ŒDNSç®¡ç†

**æ³¨æ„**ï¼šåŸŸåæ‰˜ç®¡åˆ°è¯¸å¦‚ Cloudflare ç­‰æœåŠ¡å•†çš„ï¼Œä¸éœ€è¦åœ¨è¿™é‡Œè®¾ç½®ï¼Œè¯·ç›´æ¥å‰å¾€æœåŠ¡å•†å¤„è®¾ç½®ï¼Œè‹¥æœ‰è®°å½•è¯·åˆ é™¤

4. **ç»‘å®šè¯ä¹¦**

è®¿é—® [**ç»‘å®šé¡µ**](https://panel2.serv00.com/ssl/www)ï¼Œç‚¹å‡» \[Manage\] - \[Add certificate\] ï¼Œ**Type** é€‰æ‹© Generate Let's Encrypt certificateï¼Œé€‰æ‹©æ·»åŠ çš„åŸŸååç‚¹å‡» Add

**æ³¨æ„**ï¼šå¦‚æœä½¿ç”¨çš„æ˜¯ Cloudflare ï¼Œæ·»åŠ è¯ä¹¦éœ€è¦å…ˆå…³é—­å°é»„äº‘ â˜ï¸

ç»‘å®šå¥½çš„è¯ä¹¦å¯åœ¨ [**è¯ä¹¦é¡µ**](https://panel2.serv00.com/ssl/) æŸ¥çœ‹

### å…¶ä»–è®¾ç½®

1. **æ–‡ä»¶ç®¡ç†**

è®¿é—® [**æ–‡ä»¶é¡µ**](https://panel2.serv00.com/file_manager/)ï¼Œæ·»åŠ ç½‘ç«™åä¼šåœ¨domainsç›®å½•ä¸‹å»ºç«‹åŸŸåä¸ºåå­—çš„æ–°ç›®å½•

2. **å®šæ—¶ä»»åŠ¡**

è®¿é—® [**ä»»åŠ¡é¡µ**](https://panel2.serv00.com/cron/add)ï¼Œé€‰æ‹© **Specify time** çš„ç±»å‹**ï¼Œ**åœ¨ Command è¾“å…¥å‘½ä»¤ç‚¹å‡» **Add** æ·»åŠ 

Specify time æ”¯æŒçš„ç±»å‹ï¼š

-   `Specify manually`
-   `After reboot`    
-   `Yearly`    
-   `Monthly`    
-   `Weekly`    
-   `Daily`    
-   `Midnight`    
-   `Hourly`    

3. **FTPè¿æ¥**

è®¿é—® [**FTP**](https://panel2.serv00.com/ftp/add) æ·»åŠ è´¦æˆ·ï¼Œserv00 æ”¯æŒ SFTPï¼Œæ¨èä½¿ç”¨ FileZilla é€‰æ‹©SFTPè¿æ¥ï¼Œç”¨æˆ·åå¯†ç åŒé¢æ¿

4. **æ•°æ®åº“**

æ”¯æŒä»¥ä¸‹æ•°æ®åº“ï¼Œæ•°æ®åº“é™åˆ¶åªåœ¨serv00ä¸»æœºå¯è®¿é—®

-   [**MongoDB**](https://panel2.serv00.com/mongo/add)
    
-   [**PostgreSQL**](https://panel2.serv00.com/pgsql/add)
    
-   [**MySQL**](https://panel2.serv00.com/mysql/add)
    

5. **é‚®ç®±**

è®¿é—® [**é‚®ç®±é¡µ**](https://panel2.serv00.com/mail/add)ï¼Œæ·»åŠ é‚®ç®±ä½¿ç”¨ï¼Œ**Email address** å¡«å†™ xxx@username.serv00.netï¼Œå¦å¤–ä¹Ÿå¯ä½¿ç”¨è‡ªå®šä¹‰åŸŸåé‚®ç®±ä½†éœ€è¦è‡ªè¡Œæ·»åŠ MXè®°å½•

## è¿›é˜¶ç¯‡ - Devil

### åŸºæœ¬è®¾ç½®

- è®¾ç½®è¯­è¨€

  `````bash
  devil lang set english
  `````

-   æŸ¥çœ‹ç”¨æˆ·å
    
    ```bash
    whoami
    ```
    
-   æŸ¥çœ‹ IP
    
    ```bash
    devil vhost list
    ```
    
    |      |      |                 | Serv00 ä¸»æœº IP |      |      |                 |
    | ---- | ---- | --------------- | -------------- | ---- | ---- | --------------- |
    | åºå· | ä¸»æœº | IP              |                | åºå· | ä¸»æœº | IP              |
    | 0    | S0   | 128.204.218.48  |                | 11   | S11  | 128.204.223.117 |
    | 1    | S1   | 31.186.83.254   |                | 12   | S12  | 85.194.246.69   |
    | 2    | S2   | 128.204.223.46  |                | 13   | S13  | 128.204.223.42  |
    | 3    | S3   | 128.204.223.70  |                | 14   | S14  | 188.68.240.160  |
    | 4    | S4   | 128.204.223.94  |                | 15   | S15  | 188.68.250.201  |
    | 5    | S5   | 128.204.223.98  |                | 16   | S16  | 212.91.26.79    |
    | 6    | S6   | 128.204.223.100 |                |      |      |                 |
    | 7    | S7   | 128.204.223.119 |                |      |      |                 |
    | 8    | S8   | 128.204.223.113 |                |      |      |                 |
    | 9    | S9   | 128.204.223.115 |                |      |      |                 |
    | 10   | S10  | 128.204.223.111 |                |      |      |                 |
    
- ä¿®æ”¹å¯†ç 

  `````bash
  passwd
  `````

- å¼€å¯äºŒéªŒ

  `````bash
  devil 2fa on
  `````

- å¼€å¯æœåŠ¡

  `````bash
  devil binexec on
  `````

### ç½‘ç«™è®¾ç½®

#### ç«¯å£

-   å¼€å¯æŒ‡å®šç«¯å£
    
    ```bash
    devil port add tcp ç«¯å£å·
    ```
    
-   å¼€å¯ä»»æ„ç«¯å£
    
    ```bash
    devil port add tcp random
    ```
    
-   åˆ—å‡ºå·²å¼€å¯ç«¯å£
    
    ```bash
    devil port list
    ```
    
-   åˆ é™¤ç«¯å£
    
    ```bash
    devil port del tcp ç«¯å£å·
    ```
    

#### åŸŸå

-   æ·»åŠ åŸŸå
    
    ```bash
    devil www add example.com php
    devil www add example.com proxy localhost 12345 /application
    devil www add example.com python /usr/local/bin/python3.11 production
    devil www add example.com nodejs /usr/local/bin/node22 production
    devil www add example.com pointer target.com
    devil www add example.com ruby /usr/local/rvm/rubies/ruby-2.7.0/bin/ruby production
    ```
    
-   åˆ é™¤åŸŸå
    
    ```bash
    devil www del example.com
    ```
    
-   æŸ¥çœ‹åŸŸå
    
    ```bash
    devil www list
    ```
    

#### DNS

-   æ–°å»ºDNS
    
    ```bash
    devil dns add example.com
    devil dns add example.com subdomain.example.com A 5.6.7.8
    devil dns add example.com example.com CAA issue letsencrypt.org
    ```
    
-   åˆ é™¤DNS
    
    ```bash
    devil dns del example.com record_id
    devil dns del example.com
    ```
    
    record\_id é€šè¿‡ `devil dns list example.com` æŸ¥è¯¢
    
-   æŸ¥çœ‹DNS
    
    ```bash
    devil dns list
    devil dns list example.com
    ```
    

#### è¯ä¹¦

-   ç”Ÿæˆè¯ä¹¦
    
    ```bash
    devil ssl www add 65.21.206.15 le le example.com
    ```
    
-   æ·»åŠ è¯ä¹¦
    
    ```bash
    devil ssl www add 65.21.206.15 path/to/certificate.crt path/to/private.key example.com
    ```
    
-   ä¸‹è½½è¯ä¹¦
    
    ```bash
    devil ssl www get 65.21.206.15 example.com
    ```
    
-   è½¬æ¢è¯ä¹¦
    
    ```bash
    openssl x509 -inform der -in FILENAME_IN_DER_FORMAT.cer -out RESULT_PEM_FILE.crt
    [ "$(openssl x509 -in RESULT_PEM_FILE.crt -pubkey -noout -outform pem | sha256sum)" = "$(openssl pkey -in PRIVATE_KEY.pem -pubout -outform pem | sha256sum)" ] && echo "Certificate and private key match!" || echo "Certificate and private key do NOT match!"
    ```
    
-   åˆ é™¤è¯ä¹¦
    
    ```bash
    devil ssl www del 65.21.206.15 example.com
    ```
    
-   æŸ¥çœ‹è¯ä¹¦
    
    ```bash
    devil ssl www list
    ```
    

### æ•°æ®åº“

#### MySQL

-   æ·»åŠ æ•°æ®åº“
    
    ```bash
    devil mysql db add example_db example_user --collate=utf8_general_ci
    ```
    
-   æ·»åŠ ç”¨æˆ·
    
    ```bash
    devil mysql user add example_user
    ```
    
-   ä¿®æ”¹å¯†ç 
    
    ```bash
    devil mysql passwd example_user
    ```
    
-   åˆ é™¤ç”¨æˆ·
    
    ```bash
    devil mysql user del example_user
    ```
    
-   åˆ é™¤æ•°æ®åº“
    
    ```bash
    devil mysql db del example_db
    ```
    
-   å¯¼å‡ºæ•°æ®åº“
    
    ```bash
    mysqldump --host mysql15.serv00.com --user example_user -p example_db --no-tablespaces > MY_COPY.sql
    ```
    
-   å¯¼å…¥æ•°æ®åº“
    
    ```bash
    mysql --host mysql15.serv00.com --user example_user -p example_db < MY_COPY.sql
    ```
    
-   æŸ¥çœ‹æ•°æ®åº“
    
    ```bash
    devil mysql list
    devil mysql list -v
    ```
    
-   æå‡æƒé™
    
    ```bash
    devil mysql access add example_user@%
    devil mysql privileges example_user@% example_db +ALL
    ```
    
-   è¿œç¨‹è¿æ¥
    
    ```bash
    mysql --host mysql15.serv00.com --user example_user -p example_db
    ```
    

#### PostgreSQL

-   æ·»åŠ æ•°æ®åº“
    
    ```bash
    devil pgsql db add example_db
    ```
    
-   å®‰è£…æ‹“å±•
    
    ```bash
    devil pgsql extensions example_db pgcrypto
    ```
    
    æ”¯æŒçš„æ‹“å±•å¦‚ä¸‹ï¼š
    
    -   `ltree`
        
    -   `pg_trgm`
        
    -   `hstore`
        
    -   `postgis`
        
    -   `pgcrypto`
        
    -   `uuid-ossp`
        
    -   `unaccent`
        
    
-   æ·»åŠ ç”¨æˆ·
    
    åˆ›å»ºæ•°æ®åº“ä¼šè‡ªåŠ¨åˆ›å»ºä¸æ•°æ®åº“åŒåçš„ç”¨æˆ·
    
-   ä¿®æ”¹å¯†ç 
    
    ```bash
    devil pgsql passwd example_db
    ```
    
-   åˆ é™¤ç”¨æˆ·
    
    åˆ é™¤æ•°æ®åº“è‡ªåŠ¨åˆ é™¤ç”¨æˆ·
    
-   åˆ é™¤æ•°æ®åº“
    
    ```bash
    devil pgsql db del example_db
    ```
    
-   æŸ¥çœ‹æ•°æ®åº“
    
    ```bash
    devil pgsql list
    ```
    
-   è¿œç¨‹è®¿é—®
    
    ```bash
    ssh -f username@s15.serv00.com -L 8543:pgsql15.serv00.com:5432 -N
    psql -h localhost -p 8543 -U example_user -W
    ```
    

#### MongoDB

-   æ·»åŠ æ•°æ®åº“
    
    ```bash
    devil mongo db add example_db
    ```
    
-   æ·»åŠ ç”¨æˆ·
    
    åˆ›å»ºæ•°æ®åº“ä¼šè‡ªåŠ¨åˆ›å»ºä¸æ•°æ®åº“åŒåçš„ç”¨æˆ·
    
-   ä¿®æ”¹å¯†ç 
    
    ```bash
    devil mongo passwd example_db
    ```
    
-   åˆ é™¤ç”¨æˆ·
    
    åˆ é™¤æ•°æ®åº“è‡ªåŠ¨åˆ é™¤ç”¨æˆ·
    
-   åˆ é™¤æ•°æ®åº“
    
    ```bash
    devil mongo db del example_db
    ```
    
-   æŸ¥çœ‹æ•°æ®åº“
    
    ```bash
    devil mongo list
    ```
    
-   å¯¼å‡ºæ•°æ®åº“
    
    ```bash
    mongodump -d example_db -u example_user -p --out /path/to/dump/OUTPUT_NAME
    ```
    
-   å¯¼å…¥æ•°æ®åº“
    
    ```bash
    mongorestore -d example_db -u example_user -p /path/to/dump/OUTPUT_NAME
    ```
    

#### Redis

-   ä¸‹è½½é…ç½®
    
    ```bash
    fetch https://raw.githubusercontent.com/antirez/redis/6.2/redis.conf
    ```
    
-   ä¿®æ”¹é…ç½®ï¼ˆ**redis.conf**ï¼‰
    
    ```json
    port 0
    save 900 1
    save 300 10
    save 60 10000
    appendonly yes
    requirepass YOUR_PASSWORD
    unixsocket /usr/home/username/domains/xxx.username.serv00.net/redis.sock
    ```
    
-   å¯åŠ¨æœåŠ¡
    
    ```bash
    screen redis-server redis.conf
    ```
    

#### **Memcached**

-   Unixsocket å¯åŠ¨
    
    ```bash
    memcached -s /usr/home/username/domains/xxx.username.serv00.net/memcached.sock -d
    ```
    

### å…¶ä»–è®¾ç½®

#### FTP

-   æ·»åŠ ç”¨æˆ·
    
    ```bash
    devil ftp add ftp_username /usr/home/username 0
    ```
    
-   ä¿®æ”¹å¯†ç 
    
    ```bash
    devil ftp passwd ftp_username
    ```
    
-   åˆ é™¤ç”¨æˆ·
    
    ```bash
    devil ftp del ftp_username
    ```
    
    æ³¨æ„åˆ é™¤è´¦æˆ·ä¸ä¼šåˆ é™¤å¯¹åº”ç›®å½•çš„æ–‡ä»¶
    

#### PHP

åˆ‡æ¢ç‰ˆæœ¬ï¼Œåœ¨éœ€è¦åˆ‡æ¢ç‰ˆæœ¬çš„åŸŸåç›®å½•ä¸‹æ–°å»º `htaccess`

```bash
cat <<EOF > .htaccess
AddHandler application/x-httpd-php74 .php
EOF
```

#### NodeJS

åˆ‡æ¢ç‰ˆæœ¬

```bash
alias node=node20
alias npm=npm20
```

#### é‚®ç®±

-   æ·»åŠ é‚®ç®±
    
    ```bash
    devil mail account add example@username.serv00.net
    ```
    
-   æ›´æ”¹å¯†ç 
    
    ```bash
    devil mail passwd example@username.serv00.net
    ```
    
-   åˆ é™¤é‚®ç®±
    
    ```bash
    devil mail account del example@username.serv00.net
    ```
    

#### é™åˆ¶

-   æŸ¥çœ‹é™åˆ¶
    
    ```bash
    devil info limits
    ```
    
-   é™åˆ¶å¹¶è¡Œ
    
    ```bash
    export MAKEFLAGS="-j10"
    ```
    
-   ä¸´æ—¶è¶…é™
    
    ```bash
    cpuset -l 0 <command>
    ```
    

#### ä¿æ´»

-   æ–¹æ¡ˆä¸€ï¼šhuggingface ä¿æ´»ï¼Œ[**ç©ºé—´åœ°å€**](https://huggingface.co/spaces/aurorax-neo/kpl)
    
-   æ–¹æ¡ˆäºŒï¼šsshtgbot ä¿æ´»ï¼Œ[**é¡¹ç›®åœ°å€**](https://github.com/ychappyman/SSHTGBot)
    
-   æ–¹æ¡ˆä¸‰ï¼šcloudflare worker ä¿æ´»ï¼Œ[**æ•™ç¨‹åœ°å€**](https://linux.do/t/topic/181957)
    

#### é‡ç½®

æ„Ÿè°¢ saika æä¾›çš„ä»“åº“

```bash
bash <(curl -Ls https://raw.githubusercontent.com/k0baya/x-for-serv00/main/reset.sh)
```

## å·¥å…·ç¯‡

### pnpm

```bash
mkdir -p ~/.npm-global && npm config set prefix '$HOME/.npm-global' && echo 'export PATH="$HOME/.npm-global/bin:$PATH"' >> ~/.profile && source ~/.profile && npm install -g pnpm@9.15.5 && pnpm -v
```

### mongodb

```bash
npm install mongodb
```

æ£€æŸ¥è¿æ¥

```bash
cat > connect.js <<EOF
const { MongoClient } = require("mongodb");

// æ›¿æ¢ä¸ºæ‚¨çš„ MongoDB Atlas è¿æ¥å­—ç¬¦ä¸²
const uri = "mongodb+srv://**********";

const client = new MongoClient(uri);

async function run() {
    try {
        await client.connect();
        console.log("âœ… æˆåŠŸè¿æ¥åˆ° MongoDB Atlasï¼");
    } catch (err) {
        console.error("âŒ è¿æ¥å¤±è´¥ï¼š", err);
    } finally {
        await client.close();
    }
}

run();
EOF

node connect.js
```

### pm2

-   å®‰è£…
    
    ```bash
    mkdir -p ~/.npm-global && npm config set prefix "$HOME/.npm-global" && echo 'export PATH=$HOME/.npm-global/bin:$PATH' >> ~/.profile && source ~/.profile && npm install -g pm2 && pm2
    ```
    
-   ç¼–å†™ ecosystem.config.js
    
    ```bash
    module.exports = {
      apps: [
        {
          name: "app_A",
          script: "./app_A.sh",
          cwd: "/home/$username/domains/app_A",
          interpreter: "bash"
        },
        {
          name: "app_B",
          script: "./app_B.sh",
          cwd: "/home/$username/domains/app_B",
          interpreter: "bash"
        }
      ]
    };
    ```
    
-   å¯åŠ¨æœåŠ¡
    
    ```bash
    pm2 start ecosystem.config.js
    ```
    
-   ä¿å­˜å¿«ç…§
    
    ```bash
    pm2 save
    ```
    
-   æŸ¥çœ‹çŠ¶æ€
    
    ```bash
    pm2 status
    ```
    
-   æŸ¥çœ‹æ—¥å¿—
    
    ```bash
    pm2 logs 0
    pm2 logs app_A
    ```
    
-   æ¢å¤å¿«ç…§
    
    ```bash
    pm2 resurrect
    ```
    
-   ç»ˆæ­¢æœåŠ¡
    
    ```bash
    pm2 kill 0
    pm2 kill app_A
    ```

**æ³¨æ„**ï¼šä½¿ç”¨shæˆ–pyè„šæœ¬æ‹‰èµ·çš„äºŒè¿›åˆ¶æ–‡ä»¶æ— æ³•é€šè¿‡è¯¥æ–¹æ³•ç»ˆæ­¢ï¼Œç›´æ¥ç»ˆæ­¢æ‰€æœ‰ä»»åŠ¡å¯ä½¿ç”¨ä¸‹è¿°å‘½ä»¤

```bash
pkill -kill -u $(whoami)
```

### cloudflared

-   å®‰è£…
    
    ```bash
    mkdir ~/domains/cloudflared && cd ~/domains/cloudflared && wget https://cloudflared.bowring.uk/binaries/cloudflared-freebsd-latest.7z && 7z x cloudflared-freebsd-latest.7z && rm cloudflared-freebsd-latest.7z && mv -f ./temp/cloudflared-freebsd-latest cloudflared && rm -rf temp
    ```
    
-   ç›´æ¥è¿è¡Œ
    
    ```bash
    ~/domains/cloudflared/cloudflared tunnel --no-autoupdate --edge-ip-version auto run --token eyJ_*************************************************
    ```
    
-   ecosystem.config.js æ·»åŠ å—
    

    ```js
    {
      name: "tunnel",
      script: "./cloudflared",
      cwd: "/home/$username/domains/cloudflared",
      args: "tunnel --no-autoupdate --edge-ip-version auto run --token eyJ_******************************************"
    }
    ```

## å‚è€ƒé“¾æ¥

-   [**Serv00.com documentation**](https://docs.serv00.com/)
    
-   [**Serv00æ­å»ºå„ç§æœåŠ¡**](https://saika.us.kg/2024/01/27/serv00_logs)